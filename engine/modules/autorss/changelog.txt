История изменений модуля
AutoRSSImport for DLE
=============================
 *6.1.2 (от 20.05.2013)
- Добавлена отправка email при выполнении скрипта.

 *6.1.1 (от 20.04.2013)
- Исправлен косяк с недостаточной фильтрацией тегов (одинарные кавычки в тегах оказывается тоже встречаются иногда :) )


 * 6.1.0 (от 19.04.2013)
- Добавлен парсинг и уменьшение картинок со сторонних сайтов, используется класс от модуля block.pro.3. Работа класса аналогична работе в модуле. По умолчанию парсинг картинок включен.
- Исправлен косяк с индивидуальными настройками каналов (указываемые в админке dle).
- Исправлен косяк с тонкими настройками каналов (указываемые в файле rss.tiny.settings.php).
- Изменена структура расположения дополнительных файлов модуля.
- добавлены переменные fulldebug, channelid, channellimit. 
  	Если прописать с адресной строке &fulldebug - будет показываться полны дебаг (исходые данные канала)
 		Если прописать с адресной строке &channelid=1,2,3 - будут обрабатыватьс только каналы с соответсствующим id
 		Если прописать с адресной строке &channellimit=0x10 - будут взяты только первые 10 каналов (можно написать &channellimit=10x10 - будут взяты 10 каналов начиная с 10го по счёту)
- Добавлен вывод кол-ва запросов (кол-во примерное т.к. хз что происходит внутри DLE_API).
- Добавлен вывод кол-ва автоматически зарегистрированных пользователей.
- Исправлены ошибки с формированием alt_name (и ЧПУ соответственно), когда попадались неправильные символы.
- Небольшие улучшения UI.
- История изменений вынесена в отдельный файл.


 * 6.0.9 (от 06.03.2013)
- Исправления после проверки Кирилла.


 * 6.0.8 (от 04.03.2013)
- Добавлен noindex к ссылке.
- Исправлен косяк с неправильным ЧПУ, если в загловке новости присутствовал знак #.
- Тонкая настройка обработки каналов вынесена в отдельный файл rss.tiny.settings.php этот файл нужно класть в папку engine/modules/


 * 6.0.7 (от 03.03.2013)
- Исправил адрес дефолтной заглушки, заменил {THEME} на прямой путь (имя шаблона берётся из настроек dle)/
- Добавил возможность переопределять глобальные настройки модуля для каждого канала отдельно. Указываются так же как и  
- Можно переопределять любую переменную, кроме sendPM (т.к. она не привязана к конкретной rss-ленте). Переменные указываем в поле "Маска для поиска" в формате примерно так: offline=true||pseudoLinks=false и т.д. Достуны следующие переменные: offline, noimage, checkDouble, text_limit, chpu_cut, author_login, allowNewUsers, newUserGroup, source_text, pseudoLinks, source_target. 


 * 6.0.6 (от 02.03.2012)
- Исправил ошибку с префиксом dle_ в запросе.
- Регистрация нового пользователя теперь работает только в рабочем режиме - в тестовом пользователи не регитрируются.
- Убрал использование dle_api для регистрации пользователя.
- Добавил переменную pseudoLinks - для указания типа используемых ссылок на источник.


 * 6.0.5 (от 01.03.2012)
- Добавлена отправка Персонального сообщения с результатами работы скрипта админу (пользователю с id=1)/
- Подчистил лишний код в функции создания метатегов.
- Мелкие правки.


 * 6.0.4 (от 01.03.2013)
- Починил добавления тегов в облако тегов.
- Починил обновление кол-ва новостей у пользователя.
- Добавил возможность задавать индивидуальные настройки для каждого канала непосредственно из админки. (За подробностями в личку - описание будет позже)


 * 6.0.3 (от 28.02.2013)
- Поправил косяк с добавлением одинаковых картинок новостям, не содержащим картинки.
- Поправил косяк с ошибкой MySQL при наличи в новости одинакрной кавычки.


 * 6.0.2b (от 26.02.2013)
- Добавлена функция safeParse - для удобства, чтоб одно и тоже не писать по сто раз.
- Добавлен пароль для запуска скрипта. Пременная $pass.
- Новости в БД добавляются с текущей датой - почему то не работает дата из канала (возможно я что-то не то делаю).
- Добавил вывод ссылок на добавленные новости по завершению работы скрипта (отключаемо).
- Добавил переменную &nolinks - если её указать - то ссылки на добавленные новости показываться не будут.
- Добавил проврку дублей новостей (отключаемо) в настройках ниже.
- Добавил вывод заголовков НЕ добавленных новостей с отметкой дублей.
- Проведена оптимизация запросов в БД.


 * 6.0.1b (от 25.02.2013)
- Поправил ф-цию транслита, а то некоторые буквы съедались.
- Добавил авторегистрацию пользователя, имя которого указано в rss-канале, отключается в настройках. Пользователь регистрируется с именем, которое приходит с rss-канала, почтой вида [транслит_имени_пользователя@текущий_домен] и паролем, сотоящим из первых трёх символов имени пользователя и 7 случайных символов
- Исправления ошибок в фильтрации данных.
- Добавил показ времени выполнения скрипта и затрачиваемую память (насчёт показателей памяти не уверен в правдивости).
- Пока работает только тестовый режим, реальный выдаёт ошибку.


 * 6.0.0b (от 25.02.2013)
- Приемлемый вид тестового режима.
- Работает транслитерация заголовка. Так же обрезается динна транслитерированного заголовка, чтоб было симпотичнее.
- Переработан цикл получения и парсинга новостей, не проверял, но должен работать быстрее.
- Нормальное формирование текста новости. Убрано всё лишнее, обрезка текста вынесена в отдельную функцию.
- Добавлена возможность тонко настраивать обработку rss-канала по его id (пока требует осмысления и переработки для более удобного использования. Возможно нужно брать данные из настроек канала, но это потом).
- Ссылки на источник являются псевдоссылками http://cdpn.io/usoyw (исх. код: https://gist.github.com/5026041).
- Категории, приходящие с RSS преобразуются в теги, удаляются дубли, добавляются к уже существющим (из настроек rss-потока).
- Нормальный парсинг картинок. Используется надёжная регулярка.


 * 5.0.0 (от 23.06.2012)
- адаптирован для работы на движке DLE 9.6
- добавил прикрепление rel='nofollow' и <noindex>, починил комментарии.


 * 4.2.1 (от 17.11.2010)
- внес правки для максимальной ширины изображения img style='max-width: вместо img style='width:


 * 4.2
- исправленна проблема с через мерной защитой от SQL инъекций, в результате чего некоторые ссылки не работали


 * 4.1
- добавление в полную версию ссылок на источник
- жесткая обрезка новостей с большим количеством тегов (переменная $strong_limit)
- выведено вверх несколько дополнительных переменных
- добавлен css класс для внешней ссылки


 * 4.0
- поддержка DLE 8.x
- перенос функций на API DLE (для предотвращения несовместимости с будущими версиями DLE)
- обрезка краткой версии с учетом тегов и слов
- мелкие исправления
